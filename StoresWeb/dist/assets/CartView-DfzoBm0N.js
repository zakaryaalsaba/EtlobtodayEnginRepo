import{u as v,o as i,b as u,a as e,t as n,e as s,i as $,f as k,k as p,w as _,F as w,g as C,r as S,p as h,q as g,c as q}from"./index-ChIn5XDW.js";import{f as x}from"./currency-jolHBzHh.js";import{a as P}from"./stores-CPvMirkz.js";const U={class:"card p-4 flex flex-col sm:flex-row gap-4"},j={class:"w-full sm:w-24 h-24 rounded-xl bg-gray-200 shrink-0 overflow-hidden"},I=["src","alt"],B={key:1,class:"w-full h-full flex items-center justify-center text-3xl text-gray-400"},V={class:"flex-1 min-w-0"},D={class:"font-semibold text-gray-900"},N={class:"text-indigo-600 font-medium"},Q={class:"flex items-center gap-2"},R={class:"flex items-center rounded-lg border border-gray-200 bg-gray-50 overflow-hidden"},E={class:"w-10 text-center font-medium"},F=["aria-label"],L={__name:"CartItem",props:{item:{type:Object,required:!0},currencyCode:{type:String,default:"USD"},symbolPosition:{type:String,default:"before"}},emits:["update-quantity","remove"],setup(r){const c=r,{t:o}=v(),m="http://localhost:3000";function y(t){return t?t.startsWith("http")?t:`${m}${t.startsWith("/")?"":"/"}${t}`:""}function f(t){return x(t,c.currencyCode,c.symbolPosition)}return(t,a)=>{var d;return i(),u("div",U,[e("div",j,[(d=r.item.product)!=null&&d.image_url?(i(),u("img",{key:0,src:y(r.item.product.image_url),alt:r.item.product_name,class:"w-full h-full object-cover"},null,8,I)):(i(),u("div",B,"ðŸ“¦"))]),e("div",V,[e("h3",D,n(r.item.product_name),1),e("p",N,n(f(r.item.product_price))+" Ã— "+n(r.item.quantity),1)]),e("div",Q,[e("div",R,[e("button",{type:"button",class:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-gray-100",onClick:a[0]||(a[0]=l=>t.$emit("update-quantity",r.item.quantity-1))}," âˆ’ "),e("span",E,n(r.item.quantity),1),e("button",{type:"button",class:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-gray-100",onClick:a[1]||(a[1]=l=>t.$emit("update-quantity",r.item.quantity+1))}," + ")]),e("button",{type:"button",class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition","aria-label":s(o)("cart.remove"),onClick:a[2]||(a[2]=l=>t.$emit("remove"))}," ðŸ—‘ï¸ ",8,F)])])}}},W={class:"animate-fade-in"},M={class:"text-2xl font-bold text-gray-900 mb-6"},O={key:0,class:"card p-12 text-center"},T={class:"text-gray-600 text-lg"},z={key:1,class:"grid gap-8 lg:grid-cols-3"},A={class:"lg:col-span-2 space-y-4"},G={class:"card p-6 sticky top-24"},H={class:"text-gray-600"},J={class:"text-2xl font-bold text-gray-900 mt-1"},Z={__name:"CartView",setup(r){const{t:c}=v(),o=$(),m=h(()=>o.storeCurrency.currency_code||"USD"),y=h(()=>o.storeCurrency.currency_symbol_position||"before");function f(t){return x(t,m.value,y.value)}return k(async()=>{if(o.storeId)try{const t=await P(o.storeId);o.setStoreCurrency(t)}catch{}}),(t,a)=>{const d=S("router-link");return i(),u("div",W,[e("h1",M,n(s(c)("cart.title")),1),s(o).isEmpty?(i(),u("div",O,[e("p",T,n(s(c)("cart.empty")),1),p(d,{to:"/",class:"btn-primary inline-block mt-6"},{default:_(()=>[g(n(s(c)("cart.continueShopping")),1)]),_:1})])):(i(),u("div",z,[e("div",A,[(i(!0),u(w,null,C(s(o).items,l=>(i(),q(L,{key:l.product_id,item:l,"currency-code":m.value,"symbol-position":y.value,onUpdateQuantity:b=>s(o).updateQuantity(l.product_id,b),onRemove:b=>s(o).removeItem(l.product_id)},null,8,["item","currency-code","symbol-position","onUpdateQuantity","onRemove"]))),128))]),e("div",null,[e("div",G,[e("p",H,n(s(c)("cart.subtotal")),1),e("p",J,n(f(s(o).subtotal)),1),p(d,{to:"/checkout",class:"btn-primary w-full mt-6 block text-center"},{default:_(()=>[g(n(s(c)("cart.checkout")),1)]),_:1}),p(d,{to:"/",class:"btn-secondary w-full mt-3 block text-center"},{default:_(()=>[g(n(s(c)("cart.continueShopping")),1)]),_:1})])])]))])}}};export{Z as default};
