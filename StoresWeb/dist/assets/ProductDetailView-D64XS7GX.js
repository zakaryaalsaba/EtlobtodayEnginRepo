import{u as P,i as D,j as T,f as B,b as o,a,t as r,e as b,d as h,h as u,m as N,o as l}from"./index-ChIn5XDW.js";import{a as U}from"./products-B9pNirOm.js";import{a as V}from"./stores-CPvMirkz.js";import{f as q}from"./currency-jolHBzHh.js";const I={class:"animate-fade-in max-w-4xl mx-auto"},L={key:0,class:"space-y-6"},M={key:1,class:"rounded-2xl bg-red-50 border border-red-200 p-6 text-red-700"},R={key:2,class:"grid gap-8 md:grid-cols-2"},W={class:"aspect-square rounded-2xl overflow-hidden bg-gray-200"},E=["src","alt"],z={key:1,class:"w-full h-full flex items-center justify-center text-8xl text-gray-400"},A={class:"text-2xl md:text-3xl font-bold text-gray-900"},F={class:"mt-4 text-2xl font-bold text-indigo-600"},G={key:0,class:"mt-4 text-gray-600"},H={class:"mt-6 flex flex-wrap items-center gap-4"},J={class:"flex items-center rounded-xl border border-gray-200 bg-gray-50 overflow-hidden"},K={class:"w-12 text-center font-semibold"},ee={__name:"ProductDetailView",setup(O){const w=N(),{t:c,locale:f}=P(),v=D(),k=T(),t=u(null),i=u(null),_=u(!0),d=u(null),n=u(1),C="http://localhost:3000";function S(e){return e?e.startsWith("http")?e:`${C}${e.startsWith("/")?"":"/"}${e}`:""}function x(e){return f.value==="ar"&&e.name_ar?e.name_ar:e.name||"Product"}function y(e){return f.value==="ar"&&e.description_ar?e.description_ar:e.description||""}function $(e){var g,p;const s=((g=i.value)==null?void 0:g.currency_code)||"USD",m=((p=i.value)==null?void 0:p.currency_symbol_position)||"before";return q(e,s,m)}function j(){for(let e=0;e<n.value;e++)v.addItem(t.value,1,t.value.website_id);k.show(c("cart.addedToCart"),{duration:3500,cartLink:!0})}return B(async()=>{var e;try{t.value=await U(w.params.id),(e=t.value)!=null&&e.website_id&&(i.value=await V(t.value.website_id),v.setStoreCurrency(i.value))}catch(s){d.value=s.message}finally{_.value=!1}}),(e,s)=>(l(),o("div",I,[_.value?(l(),o("div",L,[...s[2]||(s[2]=[a("div",{class:"aspect-video bg-gray-200 rounded-2xl animate-pulse"},null,-1),a("div",{class:"h-8 w-2/3 bg-gray-200 rounded animate-pulse"},null,-1),a("div",{class:"h-4 w-full bg-gray-100 rounded animate-pulse"},null,-1)])])):d.value?(l(),o("div",M,r(b(c)("common.error"))+": "+r(d.value),1)):t.value?(l(),o("div",R,[a("div",W,[t.value.image_url?(l(),o("img",{key:0,src:S(t.value.image_url),alt:x(t.value),class:"w-full h-full object-cover"},null,8,E)):(l(),o("div",z,"ðŸ“¦"))]),a("div",null,[a("h1",A,r(x(t.value)),1),a("p",F,r($(t.value.price)),1),y(t.value)?(l(),o("p",G,r(y(t.value)),1)):h("",!0),a("div",H,[a("div",J,[a("button",{type:"button",class:"w-12 h-12 flex items-center justify-center text-xl font-medium text-gray-600 hover:bg-gray-100",onClick:s[0]||(s[0]=m=>n.value=Math.max(1,n.value-1))}," âˆ’ "),a("span",K,r(n.value),1),a("button",{type:"button",class:"w-12 h-12 flex items-center justify-center text-xl font-medium text-gray-600 hover:bg-gray-100",onClick:s[1]||(s[1]=m=>n.value+=1)}," + ")]),a("button",{type:"button",class:"btn-primary flex-1 min-w-[200px]",onClick:j},r(b(c)("product.addToCart")),1)])])])):h("",!0)]))}};export{ee as default};
