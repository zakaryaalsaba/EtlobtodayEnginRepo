import{u as g,r as x,o as t,c as v,w as p,a,b as s,t as l,d as b,e as _,f as k,F as f,g as h,h as m}from"./index-ChIn5XDW.js";import{f as $}from"./stores-CPvMirkz.js";const w={class:"aspect-[4/3] bg-gray-200 overflow-hidden"},S=["src","alt"],B={key:1,class:"w-full h-full flex items-center justify-center text-5xl text-gray-400"},C={class:"p-5"},j={class:"text-xl font-bold text-gray-900"},D={key:0,class:"mt-1 text-gray-600 line-clamp-2"},N={class:"mt-3 text-indigo-600 font-medium"},V={__name:"StoreCard",props:{store:{type:Object,required:!0}},setup(r){const{t:n,locale:c}=g(),u="http://localhost:3000";function i(e){return e?e.startsWith("http")?e:`${u}${e.startsWith("/")?"":"/"}${e}`:""}function o(e){return c.value==="ar"&&e.restaurant_name_ar?e.restaurant_name_ar:e.restaurant_name||"Store"}function d(e){return c.value==="ar"&&e.description_ar?e.description_ar:e.description||""}return(e,M)=>{const y=x("router-link");return t(),v(y,{to:{name:"StoreDetail",params:{id:r.store.id}},class:"card block p-0 hover:scale-[1.02] active:scale-[0.99] transition-transform duration-200"},{default:p(()=>[a("div",w,[r.store.logo_url?(t(),s("img",{key:0,src:i(r.store.logo_url),alt:o(r.store),class:"w-full h-full object-cover"},null,8,S)):(t(),s("div",B,"ðŸª"))]),a("div",C,[a("h2",j,l(o(r.store)),1),r.store.description?(t(),s("p",D,l(d(r.store)),1)):b("",!0),a("p",N,l(_(n)("store.viewStore"))+" â†’",1)])]),_:1},8,["to"])}}},F={class:"animate-fade-in"},L={class:"mb-8"},U={class:"text-3xl font-bold text-gray-900"},W={class:"mt-1 text-gray-600"},q={key:0,class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},E={key:1,class:"rounded-2xl bg-red-50 border border-red-200 p-6 text-red-700"},I={key:2,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},z={__name:"StoresView",setup(r){const{t:n}=g(),c=m([]),u=m(!0),i=m(null);return k(async()=>{try{const o=await $();c.value=o.filter(d=>d.is_published!==0&&d.is_published!==!1)}catch(o){i.value=o.message}finally{u.value=!1}}),(o,d)=>(t(),s("div",F,[a("div",L,[a("h1",U,l(_(n)("home.title")),1),a("p",W,l(_(n)("home.subtitle")),1)]),u.value?(t(),s("div",q,[(t(),s(f,null,h(6,e=>a("div",{key:e,class:"card h-48 animate-pulse bg-gray-200 rounded-2xl"})),64))])):i.value?(t(),s("div",E,l(_(n)("common.error"))+": "+l(i.value),1)):(t(),s("div",I,[(t(!0),s(f,null,h(c.value,e=>(t(),v(V,{key:e.id,store:e,class:"animate-slide-up"},null,8,["store"]))),128))]))]))}};export{z as default};
